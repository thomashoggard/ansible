- name: Installing stow
  become: true
  package:
    name: stow
    state: present
# TODO: Cloning will try to use http instead of ssh since git config doesn't have a credential manager I believe
# - name: Cloning .dotfiles
#   ansible.builtin.git:
#     repo: 'git@github.com:thomashoggard/.dotfiles.git'
#     dest: "{{ lookup('env', 'HOME') }}/.dotfiles"
#     recursive: yes
#     update: yes
#     accept_hostkey: yes
#     version: main
#
# - name: Stow dotfiles
#   shell: cd $HOME/.dotfiles && install.sh
